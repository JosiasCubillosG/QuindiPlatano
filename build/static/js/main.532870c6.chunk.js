(this.webpackJsonpquindiplatanos=this.webpackJsonpquindiplatanos||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(19),r=a.n(c),s=a(7),i=a(9),l=(a(67),function(){return o.a.createElement("div",{className:"header"},o.a.createElement("h1",{className:"header-title"},"QuindiPlatanos"))});a(68);var u=function(){return o.a.createElement(s.b,{to:"/menu",className:"menuHamburguer-container"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"feather feather-menu"},o.a.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),o.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),o.a.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"})))},m=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(l,null),o.a.createElement(u,null),e.children)},d=a(3),p=a(4),h=a(6),f=a(5),g=(a(74),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(c.createPortal)(this.props.children,document.getElementById("modalPassContainer"))}}]),a}(o.a.Component)),E=(a(75),function(e){return o.a.createElement("div",{className:"modalPass"},o.a.createElement("audio",{src:"https://quindiplatanos.s3.amazonaws.com/5ec17266e345f31cbcf6eaec-alarma.mp3",controls:!0}),o.a.createElement("button",{onClick:e.handleClick,className:"modalPass-close"}))}),v=a(27),b=a(2),N=a.n(b),w=Object(n.createContext)(),C={Provider:function(e){var t=e.children,a=Object(n.useState)((function(){return window.sessionStorage.getItem("token")})),c=Object(v.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),l=Object(v.a)(i,2),u=l[0],m=l[1],d=Object(n.useState)(""),p=Object(v.a)(d,2),h=p[0],f=p[1],g={isAuth:r,email:u,password:h,changeEmail:function(e){console.log(),m(e.target.value)},changePassword:function(e){f(e.target.value)},removeAuth:function(){s(!r),window.sessionStorage.removeItem("token")},submit:function(e){e.preventDefault(),N()("/api/users/login",{method:"POST",data:{email:u,password:h}}).then((function(e){if(console.log(e),"success"!==e.data.status){var t=new Error(e.error);throw console.log("ee"),t}s(!r),window.sessionStorage.setItem("token",e.data.token)})).catch((function(e){console.error(e),alert("Error iniciando sesi\xf3n")}))}};return o.a.createElement(w.Provider,{value:g},t)},Consumer:w.Consumer},O=a(21),y=a(58),j=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={modalPassword:!1},e}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(C.Consumer,null,(function(e){e.isAuth;var t=e.email,a=e.password,n=e.changeEmail,c=e.changePassword,r=e.submit;return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"login"},o.a.createElement("h2",null,"INICIAR SESI\xd3N"),o.a.createElement("form",{className:"login-form",onSubmit:r},o.a.createElement("div",{className:"group-email"},o.a.createElement("div",{className:"group-email-icon"},o.a.createElement(O.c,{className:"login-icon"})),o.a.createElement("div",{className:"group-email-input"},o.a.createElement("input",{className:"login-email",onChange:n,value:t,type:"email",name:"email",placeholder:"Correo",required:!0}))),o.a.createElement("div",{className:"group-password"},o.a.createElement("div",{className:"group-password-icon"},o.a.createElement(y.a,{className:"password-icon"})),o.a.createElement("div",{className:"group-password-input"},o.a.createElement("input",{className:"login-password",onChange:c,value:a,type:"password",name:"password",placeholder:"Contrase\xf1a",required:!0}))),o.a.createElement("button",{type:"submit",value:"Submit",className:"login-btn"},"Ingresar"),o.a.createElement(s.b,{to:"/recover",className:"login-p"},"Se me olvid\xf3 la contrase\xf1a"))))}))}}]),a}(o.a.Component),k=Object(i.g)(j),S=(a(93),a(22)),x=function(e){return o.a.createElement("div",{className:"recover-container"},o.a.createElement("div",{className:"recover"},o.a.createElement("h2",null,"Recuperar Contrase\xf1a"),o.a.createElement("div",{className:"group-recover"},o.a.createElement("div",{className:"group-recover-icon"},o.a.createElement(S.b,{className:"recover-icon"})),o.a.createElement("div",{className:"group-recover-input"},o.a.createElement("input",{className:"recover-pass",type:"text",name:"recover",placeholder:"N\xfamero telefonico"}))),o.a.createElement(s.b,{to:"/"},o.a.createElement("button",{onClick:e.recoverPass,className:"recover-btn"},"Solicitar recuperaci\xf3n"))))},I=a(23),T=a.n(I),D=a(25),A=(a(95),a(17)),P=a.n(A);a(29);P.a.locale("es");var M=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N()("/api/lots");case 3:e.sent.data.lots.map((function(e){e.tasks.forEach((function(t,a){if(P()(e.createdDate).add(t.days,"minutes").format()<=P()().format()&&!t.state)N()("/api/pushNotifications/newNotification",{method:"POST",data:{message:t.name,imageNotification:t.imageURL,url:e._id}})}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),e}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"choose-container"},o.a.createElement(s.b,{to:"/options/diseases",className:"sickOption"},o.a.createElement("h2",null,"Enfermedades")),o.a.createElement(s.b,{to:"/options/accounting",className:"accountingOption"},o.a.createElement("h2",null,"Contabilidad")),o.a.createElement(s.b,{to:"/options/crops",className:"controlOption"},o.a.createElement("h2",null,"Control")))}}]),a}(o.a.Component),G=(a(97),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={diseases:[],cargando:!0,error:!1},e.componentDidMount=function(){N()("/api/diseases",{method:"GET"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.setState({diseases:t.data.disease,cargando:!1}),console.log(e.state.diseases)})).catch((function(e){console.log(e)}))},e.detailDisease=function(t){console.log("Id:",t),N()("/api/diseases/".concat(t),{method:"GET"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.props.history.push("/options/diseases/detail")})).catch((function(e){console.log(e)}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.diseases;return e.cargando?"Cargando...":o.a.createElement("div",{className:"diseases-container"},t.map((function(e){return o.a.createElement(s.b,{className:"disease disease-moko",to:"/options/diseases/".concat(e._id)},o.a.createElement("h3",null,e.name))})))}}]),a}(o.a.Component)),L=(a(98),a(59)),V=a(34),U=a.n(V),_=a(60),q=a.n(_),W=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(L.Carousel,{showThumbs:!1,infiniteLoop:!0,showStatus:!1,width:"80%",autoPlay:!0,interval:5e3},o.a.createElement("div",null,o.a.createElement("img",{src:U.a})),o.a.createElement("div",null,o.a.createElement("img",{src:q.a})),o.a.createElement("div",null,o.a.createElement("img",{src:U.a})))}}]),a}(n.Component),R=(a(103),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={disease:[],cargando:!0,error:!1},e.componentDidMount=function(){N()("/api/diseases/".concat(e.props.match.params.id),{method:"GET"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.setState({disease:t.data.disease,cargando:!1})})).catch((function(e){console.log(e)}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.disease,a=e.cargando;return console.log(t),a?"Cargando...":o.a.createElement("div",{className:"detailDisease-container"},o.a.createElement("div",{className:"nameDisease"},o.a.createElement("h2",null,t.name)),o.a.createElement("div",{className:"carouselDisease"},o.a.createElement(W,null)),o.a.createElement("div",{className:"symptomatology"},o.a.createElement("h3",null,"Sintomatologia"),o.a.createElement("p",null,t.symptomatology)),o.a.createElement("div",{className:"treatment"},o.a.createElement("h3",null,"Tratamiento"),o.a.createElement("p",null,t.treatment)),o.a.createElement("div",{className:"contactSpecialize"},o.a.createElement("a",{className:"btnContact",href:"https://api.whatsapp.com/send?phone=573186337855&text=Hola,%20tengo%20un%20inconveniente.",target:"_blank"},"Contactar especialista")))}}]),a}(o.a.Component)),B=(a(104),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"accounting-container"},o.a.createElement(s.b,{to:"/options/accounting/income",className:"income"},o.a.createElement("h3",null,"Ingresos")),o.a.createElement(s.b,{to:"/options/accounting/outlay",className:"outlay"},o.a.createElement("h3",null,"Gastos")),o.a.createElement(s.b,{to:"/options/accounting/useful",className:"grossProfit"},o.a.createElement("h3",null,"Utilidad")))}}]),a}(o.a.Component)),z=a(11),F=a(18),H=(a(51),a(26)),J=a(8),Y=(a(24),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={value:"",description:"",id:"",incomes:[]},e.componentDidMount=function(){e.addIncomes()},e.addIncomes=function(){N()("/api/incomes",{method:"GET"}).then((function(t){if("success"!==t.data.status)throw new Error(t.error);e.setState({incomes:t.data.income})})).catch((function(e){console.log(e)}))},e.addValues=function(t){var a=t.target,n=a.name,o=a.value;e.setState(Object(F.a)({},n,o))},e.addIncome=function(t){t.preventDefault(),0==e.state.value||""==e.state.description.trim()||-1==Math.sign(e.state.value)?J.NotificationManager.warning("Digite alg\xfan dato","Datos vacios"):e.state.id?N()("/api/incomes/".concat(e.state.id),{method:"PUT",data:Object(z.a)({},e.state)}).then((function(t){if("success"!==t.data.status)throw new Error(t.error);J.NotificationManager.info("El ingreso se ha editado con exito","ingreso editado"),e.setState({value:"",description:"",id:""}),e.addIncomes()})).catch((function(e){console.log(e)})):N()("/api/incomes",{method:"POST",data:Object(z.a)({},e.state)}).then((function(t){if("success"!==t.data.status)throw new Error(t.error);e.setState({value:"",description:"",id:""}),J.NotificationManager.info("El ingreso se ha creado con exito","Ingreso creado"),e.addIncomes()})).catch((function(e){console.log(e)}))},e.deleteIncome=function(t){N()("/api/incomes/".concat(t),{method:"DELETE"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);J.NotificationManager.error("El ingreso se ha eliminado","Ingreso eliminado"),e.addIncomes()})).catch((function(e){console.log(e)}))},e.editIncome=function(t){N()("/api/incomes/".concat(t),{method:"GET"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.setState({value:t.data.income.value,description:t.data.income.description,id:t.data.income._id})})).catch((function(e){console.log(e)}))},e.totalValue=function(t){return e.state.incomes.map((function(e){t+=e.value})),t},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.state.incomes;return o.a.createElement("div",{className:"income-container"},o.a.createElement("form",{onSubmit:this.addIncome,className:"addIncome"},o.a.createElement("div",{className:"IncomeGroup"},o.a.createElement("label",{className:"addIncome-value"},"Valor"),o.a.createElement("input",{className:"valueIncome",onChange:this.addValues,value:this.state.value,type:"number",name:"value",required:!0})),o.a.createElement("textarea",{className:"descriptionIncome",onChange:this.addValues,value:this.state.description,rows:"5",cols:"26",name:"description",placeholder:"Descripci\xf3n del ingreso",required:!0}),o.a.createElement("div",{className:"incomeBtn"},o.a.createElement("button",{type:"submit"},"Agregar"))),o.a.createElement("div",{className:"incomeTable-container"},o.a.createElement("h3",{className:"total"},"Ingreso Total: $",this.totalValue(0)),o.a.createElement("table",{className:"incomeTable"},o.a.createElement("tr",null,o.a.createElement("th",{className:"th-name"},"Nombre"),o.a.createElement("th",{className:"th-valor"},"Valor")),t.map((function(t){return o.a.createElement("tr",null,o.a.createElement("td",{className:"th-name"},t.description),o.a.createElement("td",{className:"th-valor"},t.value),o.a.createElement("td",{className:"th-valor"},o.a.createElement(H.a,{onClick:function(){return e.editIncome(t._id)},className:"editIncome"}),o.a.createElement(S.a,{onClick:function(){return e.deleteIncome(t._id)},className:"deleteIncome"})))})))),o.a.createElement(J.NotificationContainer,null))}}]),a}(o.a.Component)),Z=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={value:"",description:"",id:"",outlays:[]},e.componentDidMount=function(){console.log(e.state),console.log("Didmount"),e.addOutlays()},e.addOutlays=function(){N()("/api/expenses",{method:"GET"}).then((function(t){if("success"!==t.data.status)throw new Error(t.error);e.setState({outlays:t.data.expense}),console.log(e.state)})).catch((function(e){console.log(e)}))},e.addValues=function(t){var a=t.target,n=a.name,o=a.value;e.setState(Object(F.a)({},n,o))},e.addOutlay=function(t){t.preventDefault(),0==e.state.value||""==e.state.description.trim()||-1==Math.sign(e.state.value)?J.NotificationManager.warning("Digite alg\xfan dato","Datos vacios"):e.state.id?N()("/api/expenses/".concat(e.state.id),{method:"PUT",data:Object(z.a)({},e.state)}).then((function(t){if("success"!==t.data.status)throw new Error(t.error);J.NotificationManager.info("El gasto se ha editado con exito","Gasto editado"),e.setState({value:"",description:"",id:""}),e.addOutlays()})).catch((function(e){console.log(e)})):N()("/api/expenses",{method:"POST",data:Object(z.a)({},e.state)}).then((function(t){if("success"!==t.data.status)throw new Error(t.error);J.NotificationManager.info("El gasto se ha creado con exito","Gasto creado"),e.addOutlays()})).catch((function(e){console.log(e)}))},e.deleteOutlay=function(t){N()("/api/expenses/".concat(t),{method:"DELETE"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);J.NotificationManager.error("El gasto se ha eliminado","Gasto eliminado"),e.addOutlays()})).catch((function(e){console.log(e)}))},e.editOutlay=function(t){N()("/api/expenses/".concat(t),{method:"GET"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.setState({value:t.data.expense.value,description:t.data.expense.description,id:t.data.expense._id})})).catch((function(e){console.log(e)}))},e.totalValue=function(t){return e.state.outlays.map((function(e){t+=e.value})),t},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=0,a=this.state.outlays;return o.a.createElement("div",{className:"income-container"},o.a.createElement("form",{className:"addIncome"},o.a.createElement("div",{className:"IncomeGroup"},o.a.createElement("label",{className:"addIncome-value"},"Valor"),o.a.createElement("input",{className:"valueIncome",onChange:this.addValues,value:this.state.value,type:"number",name:"value",required:!0})),o.a.createElement("textarea",{className:"descriptionIncome",onChange:this.addValues,value:this.state.description,rows:"5",cols:"26",name:"description",placeholder:"Descripci\xf3n del gasto",required:!0}),o.a.createElement("div",{className:"incomeBtn"},o.a.createElement("button",{onClick:this.addOutlay},"Agregar"))),o.a.createElement("div",{className:"incomeTable-container"},o.a.createElement("h3",{className:"total"},"Gasto Total: $",this.totalValue(t)),o.a.createElement("table",{className:"incomeTable"},o.a.createElement("tr",null,o.a.createElement("th",{className:"th-name"},"Nombre"),o.a.createElement("th",{className:"th-valor"},"Valor")),a.map((function(a){return t+=a.value,o.a.createElement("tr",null,o.a.createElement("td",{className:"th-name"},a.description),o.a.createElement("td",{className:"th-valor"},a.value),o.a.createElement("td",{className:"th-valor"},o.a.createElement(H.a,{onClick:function(){return e.editOutlay(a._id)},className:"editIncome"}),o.a.createElement(S.a,{onClick:function(){return e.deleteOutlay(a._id)},className:"deleteIncome"})))})))),o.a.createElement(J.NotificationContainer,null))}}]),a}(o.a.Component),$=(a(119),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={income:[],outlay:[]},e.getIncome=function(){return N()("/api/incomes",{method:"GET"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.setState({income:t.data.income})})).catch((function(e){console.log(e)})),0},e.getOutlay=function(){console.log("Hola"),N()("/api/expenses",{method:"GET"}).then((function(t){if(console.log("Hola"),"success"!=t.data.status)throw new Error(t.error);e.setState({outlay:t.data.expense})})).catch((function(e){console.log(e)}))},e.componentDidMount=function(){e.getIncome(),e.getOutlay()},e.getUseful=function(e,t){for(var a=0,n=0,o=0;o<e.length;o++)a+=e[o].value;for(var c=0;c<t.length;c++)n-=t[c].value;return a+n},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.income,a=e.outlay;return o.a.createElement("div",{className:"useful-container"},o.a.createElement("div",{className:"useful-title"},o.a.createElement("h1",null,"Utilidad Actual")),o.a.createElement("div",{className:"useful-value"},o.a.createElement(O.a,{className:"useful-icon"})," ",o.a.createElement("p",{className:"useful-value-p"},this.getUseful(t,a))),o.a.createElement("div",{className:"useful-value"},o.a.createElement(O.b,{className:"useful-value-icon"})))}}]),a}(o.a.Component));a(120);P.a.locale("es");var K=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={lots:[],deleted:!1,created:!1},e.componentDidMount=function(){e.props.location.state&&(e.props.location.state.edited&&e.setState({deleted:!e.state.deleted}),e.props.location.state.plants&&e.setState({created:!0})),e.getCrops()},e.getCrops=function(){N()("/api/lots",{method:"GET"}).then((function(t){if("success"!==t.data.status)throw new Error(t.error);e.setState({lots:t.data.lots})})).catch((function(e){console.log(e)}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state.lots;return this.state.deleted&&(this.setState({deleted:!this.state.deleted}),J.NotificationManager.error("Cultivo eliminado con exito","Cultivo eliminado")),this.state.created&&(this.setState({created:!this.state.created}),J.NotificationManager.info("Cultivo agregado con exito","Cultivo agregado")),o.a.createElement("div",{className:"listCrops-container"},e.map((function(e){return o.a.createElement(s.b,{to:"/options/detailCrop/".concat(e._id),className:"crop1"},o.a.createElement("div",{className:"crop1-detail"},o.a.createElement("h3",null,e.name),o.a.createElement("p",null,e.plants," plantas"),o.a.createElement("p",null,P()(e.createdDate).format("DD/MM/YYYY"))))})),o.a.createElement(s.b,{to:"/options/addCrop",className:"addCrop"},o.a.createElement("button",{className:"btnAddCrop"},"A\xf1adir cultivo")),o.a.createElement(J.NotificationContainer,null))}}]),a}(o.a.Component),X=(a(121),a(35)),Q=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={name:"",plants:0,id:""},e.componentDidMount=function(){e.props.location.state&&e.setState({name:e.props.location.state.name,plants:e.props.location.state.plants,id:e.props.location.state._id})},e.handleInputChange=function(t){var a=t.target,n=a.name,o=a.value;e.setState(Object(F.a)({},n,o))},e.addCrop=function(t){t.preventDefault(),0==e.state.plants||""==e.state.name.trim()||-1==Math.sign(e.state.plants)?J.NotificationManager.warning("Digite alg\xfan dato","Datos vacios"):e.state.id?N()("/api/lots/".concat(e.state.id),{method:"PUT",data:Object(z.a)({},e.state)}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.props.history.push({pathname:"/options/detailCrop/".concat(e.state.id),state:Object(z.a)({},e.state)})})).catch((function(e){console.log(e)})):N()("/api/lots",{method:"POST",data:Object(z.a)({},e.state)}).then((function(t){if(console.log("Cultivo creado"),"success"!==t.data.status)throw new Error(t.error);alert("Cultivo creado"),e.props.history.push({pathname:"/options/crops",state:Object(z.a)({},e.state)})})).catch((function(e){console.log(e)}))},e.getTitle=function(){return e.state.id?"Editar Cultivo":"A\xf1adir Cultivo"},e}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"addCrop-container"},o.a.createElement("h2",{className:"addCrop-title"},this.getTitle()),o.a.createElement("form",{className:"addCrop-form",onSubmit:this.addCrop},o.a.createElement("div",{className:"group-name"},o.a.createElement("div",{className:"group-name-icon"},o.a.createElement(X.b,{className:"addCrop-iconName"})),o.a.createElement("div",{className:"group-name-input"},o.a.createElement("label",{className:"addCrop-name"},"Nombre del cultivo"),o.a.createElement("input",{className:"nameCrop",placeholder:"Digite el nombre del cultivo",type:"text",onChange:this.handleInputChange,value:this.state.name,name:"name",required:!0}))),o.a.createElement("div",{className:"group-numberPlants"},o.a.createElement("div",{className:"group-numberPlants-icon"},o.a.createElement(X.a,{className:"addCrop-iconPlants"})),o.a.createElement("div",{className:"group-numberPlants-input"},o.a.createElement("label",{className:"addCrop-numberPlants"},"Numero de plantas"),o.a.createElement("input",{className:"numberPlants",placeholder:"Digite el n\xfamero de plantas",type:"number",onChange:this.handleInputChange,value:this.state.plants,name:"plants",required:!0}))),o.a.createElement("button",{type:"submit",value:"Submit",className:"add-btn"},this.getTitle())),o.a.createElement(J.NotificationContainer,null))}}]),a}(o.a.Component);a(122);P.a.locale("es");var ee=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={lot:[],cargando:!0,error:!1,edited:!1},e.componentDidMount=function(){e.getCrop()},e.getCrop=function(){e.props.location.state?N()("/api/lots/".concat(e.props.match.params.id),{method:"GET"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.setState({lot:t.data.lot,cargando:!1}),J.NotificationManager.info("Cultivo editado con exito","Cultivo editado")})).catch((function(e){console.log(e)})):N()("/api/lots/".concat(e.props.match.params.id),{method:"GET"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.setState({lot:t.data.lot,cargando:!1})})).catch((function(e){console.log(e)}))},e.deleteCrop=function(){N()("/api/lots/".concat(e.state.lot._id),{method:"DELETE"}).then((function(t){if("success"!=t.data.status)throw new Error(t.error);e.setState({edited:!0}),e.props.history.push({pathname:"/options/crops",state:Object(z.a)({},e.state)})})).catch((function(e){console.log(e)}))},e.editCrop=function(){e.props.history.push({pathname:"/options/addCrop",state:Object(z.a)({},e.state.lot)})},e.changeStatus=function(t,a){a.state?(a.state=!1,t.target.style.backgroundColor="red",N()("/api/lots/".concat(e.state.lot._id),{method:"PUT",data:Object(z.a)({},e.state.lot)}).then((function(e){console.log(e),console.log("BIEN")})).catch((function(e){console.log(e),console.log("MALL")}))):(a.state=!0,t.target.style.backgroundColor="green",N()("/api/lots/".concat(e.state.lot._id),{method:"PUT",data:Object(z.a)({},e.state.lot)}).then((function(e){console.log(e),console.log("BIEN")})).catch((function(e){console.log(e),console.log("MALL")})))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.lot,n=t.cargando;t.error;return n?"Cargando...":o.a.createElement("div",{className:"detailCrop-container"},o.a.createElement("div",{className:"detailCrop"},o.a.createElement("h2",null,a.name),o.a.createElement("p",null,"Numero de plantas: ",a.plants),o.a.createElement("p",null,P()(a.createdDate).format("dddd LL h:s a"))),o.a.createElement("div",{className:"optionsCrop"},o.a.createElement("div",{className:"editCrop"},o.a.createElement("button",{onClick:this.editCrop},"EDITAR")),o.a.createElement("div",{className:"deleteCrop"},o.a.createElement("button",{onClick:this.deleteCrop},"ELIMINAR"))),o.a.createElement("div",{className:"cropTasks"},o.a.createElement("h3",null,"Tareas:"),a.tasks.map((function(t){if(t.state)var a={backgroundColor:"green"};else a={backgroundColor:"red"};var n={backgroundImage:"url("+t.imageURL+")"};return o.a.createElement("div",{className:"cropTaskDetail",style:n},o.a.createElement("h4",null,t.name),o.a.createElement("div",{className:"check"},o.a.createElement("h6",null,"Dentro de: ",t.days," dias"),o.a.createElement("div",{className:"checkTaskFalse",style:a,onClick:function(a){return e.changeStatus(a,t)}})))}))),o.a.createElement(J.NotificationContainer,null))}}]),a}(o.a.Component),te=(a(123),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(C.Consumer,null,(function(e){var t=e.removeAuth;return o.a.createElement("div",{className:"menu-container"},o.a.createElement(s.b,{to:"/",className:"menuHome"},o.a.createElement("h2",null,"Inicio")),o.a.createElement(s.b,{to:"/options/diseases",className:"menuDiseases"},o.a.createElement("h2",null,"Enfermedades")),o.a.createElement(s.b,{to:"/options/accounting",className:"menuAccounting"},o.a.createElement("h2",null,"Contabilidad")),o.a.createElement(s.b,{to:"/options/crops",className:"menuControl"},o.a.createElement("h2",null,"Control")),o.a.createElement(s.b,{onClick:t,to:"/",className:"menuLogOut"},o.a.createElement("h2",null,"Cerrar Sesi\xf3n")))}))}}]),a}(o.a.Component));o.a.Component;var ae=a(61),ne=function(e){var t=e.component,a=Object(ae.a)(e,["component"]);return o.a.createElement(C.Consumer,null,(function(e){var n=e.isAuth;return o.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(t,e):o.a.createElement(i.a,{to:"/"})}}))}))};var oe=function(){return o.a.createElement(s.a,null,o.a.createElement(m,null,o.a.createElement(C.Consumer,null,(function(e){var t,a=e.isAuth;return console.log(a),o.a.createElement(i.d,null,o.a.createElement(i.b,{exact:!0,path:"/",component:a?(t=M,function(e){Object(h.a)(n,e);var a=Object(f.a)(n);function n(){var e;return Object(d.a)(this,n),(e=a.call(this)).state={loading:!0,redirect:!1},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/login").then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.log(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var e=this.state,a=e.loading,n=e.redirect;return a?null:n?o.a.createElement(i.a,{to:"/"}):o.a.createElement(t,this.props)}}]),n}(n.Component)):k}),o.a.createElement(i.b,{exact:!0,path:"/recover",component:x}),o.a.createElement(ne,{exact:!0,path:"/options/diseases",component:G}),o.a.createElement(ne,{exact:!0,path:"/options/diseases/:id",component:R}),o.a.createElement(ne,{exact:!0,path:"/options/accounting",component:B}),o.a.createElement(ne,{exact:!0,path:"/options/accounting/income",component:Y}),o.a.createElement(ne,{exact:!0,path:"/options/accounting/outlay",component:Z}),o.a.createElement(ne,{exact:!0,path:"/options/accounting/useful",component:$}),o.a.createElement(ne,{exact:!0,path:"/options/crops",component:K}),o.a.createElement(ne,{exact:!0,path:"/options/addCrop",component:Q}),o.a.createElement(ne,{exact:!0,path:"/options/detailCrop/:id",component:ee}),o.a.createElement(ne,{exact:!0,path:"/menu",component:te}))}))))},ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e,t){navigator.serviceWorker.register(e).then(function(){var e=Object(D.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.onupdatefound=function(){var e=a.installing;null!=e&&(e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(a)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(a)))})};case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error during service worker registration:",e)}))}var se=function(e){for(var t="=".repeat((4-e.length%4)%4),a=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(a),o=new Uint8Array(n.length),c=0;c<n.length;++c)o[c]=n.charCodeAt(c);return o}("BJgXdLMFozG--7LbzwLEn4I8u1twiwMFj9bCdfzaqoJo25NxEWezVlfZUOx7SKXxPVFpuwj8VNSpGlzaPIZRVZg");function ie(e){return fetch("/api/pushNotifications/subscription",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}r.a.render(o.a.createElement(C.Provider,null,o.a.createElement(oe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/service-worker.js";ce?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):re(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):re(t,e)}))}}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.pushManager?e.pushManager.getSubscription().then((function(t){null===t?(console.log("No subscription detected, make a request."),e.pushManager.subscribe({applicationServerKey:se,userVisibleOnly:!0}).then((function(e){console.log("New subscription added."),ie(e)})).catch((function(e){"granted"!==Notification.permission?console.log("Permission was not granted."):console.error("An error ocurred during the subscription process.",e)}))):(console.log("Existed subscription detected."),ie(t))})):console.log("Push manager unavailable.")})).catch((function(e){console.error("An error ocurred during Service Worker registration.",e)}))},34:function(e,t,a){e.exports=a.p+"static/media/enfermedad1.d90e6175.jpeg"},51:function(e,t,a){},60:function(e,t,a){e.exports=a.p+"static/media/Enfermedades.a43c77a9.jpg"},62:function(e,t,a){e.exports=a(124)},67:function(e,t,a){},68:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.532870c6.chunk.js.map